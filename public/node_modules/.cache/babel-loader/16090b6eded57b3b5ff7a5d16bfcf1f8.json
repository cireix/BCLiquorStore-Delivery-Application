{"ast":null,"code":"import _regeneratorRuntime from\"/home/eric/Desktop/CMPT276/CMPT276/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/eric/Desktop/CMPT276/CMPT276/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{useForm}from'react-hook-form';import axios from'commons/axios';export default function ForgotPw(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var phoneNumber,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;phoneNumber=data.phoneNumber;// post phone number to server side\n_context.next=4;return axios.post('/auth/forgotpw',{phoneNumber:phoneNumber});case 4:res=_context.sent;// route to reset password page\nprops.history.push('/resetpw');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"login_wrapper\"},/*#__PURE__*/React.createElement(\"form\",{action:\"\",className:\"box login_box\",onSubmit:handleSubmit(submitHandler)},/*#__PURE__*/React.createElement(\"div\",{className:\"field\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Phone Number\"),/*#__PURE__*/React.createElement(\"div\",{class:\"field-body\"},/*#__PURE__*/React.createElement(\"div\",{class:\"field is-expanded\"},/*#__PURE__*/React.createElement(\"div\",{class:\"field has-addons\"},/*#__PURE__*/React.createElement(\"p\",{class:\"control\"},/*#__PURE__*/React.createElement(\"p\",{class:\"button is-static\"},\"+1\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"input \".concat(errors.phoneNumber&&'is-danger'),placeholder:\"Enter your phone number\",name:\"phoneNumber\",ref:register({required:true,pattern:{value:/^\\(?([0-9]{3})\\)?[-.●]?([0-9]{3})[-.●]?([0-9]{4})$/,message:\"invalid phone number\"}})})),errors.phoneNumber&&/*#__PURE__*/React.createElement(\"p\",{className:\"helper has-text-danger\"},errors.phoneNumber.message)))),/*#__PURE__*/React.createElement(\"div\",{className:\"control\"},/*#__PURE__*/React.createElement(\"button\",{className:\"button is-link login_button\"},\"Submit\"))));}","map":{"version":3,"sources":["/home/eric/Desktop/CMPT276/CMPT276/client/src/pages/ForgotPw.js"],"names":["React","useForm","axios","ForgotPw","props","register","handleSubmit","errors","submitHandler","data","phoneNumber","post","res","history","push","console","log","required","pattern","value","message"],"mappings":"6TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,cACOH,OAAO,EADd,CAC5BI,QAD4B,UAC5BA,QAD4B,CAClBC,YADkB,UAClBA,YADkB,CACJC,MADI,UACJA,MADI,CAGpC,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,IAAP,sJAENC,WAFM,CAEUD,IAFV,CAENC,WAFM,CAGd;AAHc,sBAIIR,CAAAA,KAAK,CAACS,IAAN,CAAW,gBAAX,CAA6B,CAAED,WAAW,CAAXA,WAAF,CAA7B,CAJJ,QAIRE,GAJQ,eAKd;AACAR,KAAK,CAACS,OAAN,CAAcC,IAAd,CAAmB,UAAnB,EANc,+EAQdC,OAAO,CAACC,GAAR,cARc,oEAAH,kBAAbR,CAAAA,aAAa,4CAAnB,CAYA,mBACI,2BAAK,SAAS,CAAC,eAAf,eACI,4BAAM,MAAM,CAAC,EAAb,CAAgB,SAAS,CAAC,eAA1B,CAA0C,QAAQ,CAAGF,YAAY,CAACE,aAAD,CAAjE,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,6BAAO,SAAS,CAAC,OAAjB,iBADJ,cAEI,2BAAK,KAAK,CAAC,YAAX,eACI,2BAAK,KAAK,CAAC,mBAAX,eACI,2BAAK,KAAK,CAAC,kBAAX,eACI,yBAAG,KAAK,CAAC,SAAT,eACA,yBAAG,KAAK,CAAC,kBAAT,OADA,CADJ,cAII,6BACA,IAAI,CAAC,MADL,CAEA,SAAS,iBAAWD,MAAM,CAACG,WAAP,EAAsB,WAAjC,CAFT,CAGA,WAAW,CAAC,yBAHZ,CAIA,IAAI,CAAC,aAJL,CAKA,GAAG,CAAEL,QAAQ,CAAC,CACVY,QAAQ,CAAE,IADA,CAEVC,OAAO,CAAC,CACJC,KAAK,CAAE,oDADH,CAEJC,OAAO,CAAE,sBAFL,CAFE,CAAD,CALb,EAJJ,CADJ,CAiBMb,MAAM,CAACG,WAAP,eAAsB,yBAAG,SAAS,CAAC,wBAAb,EAAwCH,MAAM,CAACG,WAAP,CAAmBU,OAA3D,CAjB5B,CADJ,CAFJ,CADJ,cA0BI,2BAAK,SAAS,CAAC,SAAf,eACI,8BAAQ,SAAS,CAAC,6BAAlB,WADJ,CA1BJ,CADJ,CADJ,CAkCH","sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport axios from 'commons/axios';\n\nexport default function ForgotPw(props) {\n    const { register, handleSubmit, errors } = useForm();\n\n    const submitHandler = async (data) => {\n        try {\n            const { phoneNumber } = data;\n            // post phone number to server side\n            const res = await axios.post('/auth/forgotpw', { phoneNumber });\n            // route to reset password page\n            props.history.push('/resetpw');\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    return(\n        <div className=\"login_wrapper\">\n            <form action=\"\" className=\"box login_box\" onSubmit={ handleSubmit(submitHandler) }>\n                <div className=\"field\">\n                    <label className=\"label\">Phone Number</label>             \n                    <div class=\"field-body\">\n                        <div class=\"field is-expanded\">\n                            <div class=\"field has-addons\">\n                                <p class=\"control\">\n                                <p class=\"button is-static\">+1</p>\n                                </p>\n                                <input \n                                type=\"text\" \n                                className={`input ${errors.phoneNumber && 'is-danger'}`}\n                                placeholder=\"Enter your phone number\" \n                                name=\"phoneNumber\"\n                                ref={register({\n                                    required: true,\n                                    pattern:{\n                                        value: /^\\(?([0-9]{3})\\)?[-.●]?([0-9]{3})[-.●]?([0-9]{4})$/,\n                                        message: \"invalid phone number\"\n                                }})} />  \n                            </div>\n                            { errors.phoneNumber && <p className=\"helper has-text-danger\">{ errors.phoneNumber.message }</p >}\n                        </div>\n                    </div>                        \n                </div>\n\n                <div className=\"control\">\n                    <button className=\"button is-link login_button\">Submit</button>\n                </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}